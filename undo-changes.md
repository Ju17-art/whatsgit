[**<< К содержанию**](readme.md)

# 10. Отмена изменений (restore, reset, revert)

Git предоставляет несколько способов отменить изменения — от локальных правок до уже опубликованных коммитов. Правильный выбор зависит от ситуации и того, были ли изменения уже отправлены на сервер.

## Три уровня отмены изменений

### 1. Отмена незакоммиченных изменений в рабочей директории (`git restore`)

**Когда использовать:** вы редактировали файлы, но еще не делали `git add`.

```
# Отменить изменения в конкретном файле
git restore file.md

# Отменить изменения во всех файлах
git restore .
```

### 2. Отмена индексации файлов (после git add)

**Когда использовать:** вы добавили файлы в индекс, но передумали их коммитить.

```
# Убрать файл из индекса (оставить изменения в рабочей директории)
git restore --staged file.md

# Убрать все файлы из индекса
git restore --staged .
```

### 3. Отмена коммитов (git reset и git revert)

Мягкий reset (--soft):

```
# Отменить последний коммит, но оставить изменения в индексе
git reset --soft HEAD~1
```

Жесткий reset (--hard) Осторожно!

```
# Полностью удалить последний коммит и все изменения
git reset --hard HEAD~1
```

Безопасный revert:

```
# Создать новый коммит, отменяющий изменения указанного коммита
git revert a1b2c3d
```

Важные предупреждения:

* git reset --hard безвозвратно удаляет изменения

* не используйте reset для коммитов, уже отправленных на сервер

* всегда проверяйте статус перед опасными операциями:
```
git status
git log --oneline -5
```

*Совет:* для сложных случаев используйте `git reflog` чтобы найти потерянные коммиты.

---

[**<< Удаленные репозитории**](remote-repos.md) |
[**Разрешение конфликтов слияния >>**](conflicts.md) 